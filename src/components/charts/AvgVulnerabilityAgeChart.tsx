import VerticalBarChart from './common/VerticalBarChart';
import type { BarChartData, LegendData } from './common/VerticalBarChart';

export interface AvgVulnerabilityAgeChartProps {
  onRemoveWidget?: () => void;
  onExportData?: () => void;
  onSettings?: () => void;
  onMagicClick?: () => void;
}

export default function AvgVulnerabilityAgeChart({
  onRemoveWidget,
  onExportData,
  onSettings,
  onMagicClick,
}: AvgVulnerabilityAgeChartProps) {
  
  // Data based on Figma design - bar heights relative to 100% scale
  const data: BarChartData[] = [
    { name: "Critical", value: 21, color: "#FF5757" }, // ~39px height from 188px total
    { name: "High", value: 86, color: "#FF740A" }, // ~162px height from 188px total  
    { name: "Medium", value: 79, color: "#F59C0B" }, // ~149px height from 188px total
    { name: "Low", value: 62, color: "#7988FF" }, // ~117px height from 188px total
  ];

  // Legend items matching Figma colors
  const legendItems: LegendData[] = [
    { color: "#2FD897", label: "Optimal" },
    { color: "#FF740A", label: "Caution" }, 
    { color: "#FF5757", label: "Critical" }
  ];

  return (
    <VerticalBarChart
      title="Avg. Vulnerability Age (Days)"
      data={data}
      valueUnit=""
      valueLabel="Avg. Age"
      height={244}
      barCategoryGap="40%"
      showLegend={true}
      legendItems={legendItems}
      onRemoveWidget={onRemoveWidget}
      onExportData={onExportData}
      onSettings={onSettings}
      onMagicClick={onMagicClick}
    />
  );
} 