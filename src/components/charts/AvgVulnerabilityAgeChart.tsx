import VerticalBarChart from './common/VerticalBarChart';
import type { BarChartData, LegendData } from './common/VerticalBarChart';
import { ChartCategory } from './common/chartConstants';
import { ChartHeader } from '../ui-components/ChartHeader';

export default function AvgVulnerabilityAgeChart() {
  
  // Data based on Figma design - bar heights relative to 100% scale
  const data: BarChartData[] = [
    { name: "Critical", value: 21, category: ChartCategory.CRITICAL }, // ~39px height from 188px total
    { name: "High", value: 86, category: ChartCategory.HIGH }, // ~162px height from 188px total  
    { name: "Medium", value: 79, category: ChartCategory.MEDIUM }, // ~149px height from 188px total
    { name: "Low", value: 62, category: ChartCategory.LOW }, // ~117px height from 188px total
  ];

  // Legend items for vulnerability severity levels
  const legendItems: LegendData[] = [
    { category: ChartCategory.LOW, label: "Low" },
    { category: ChartCategory.MEDIUM, label: "Medium" }, 
    { category: ChartCategory.HIGH, label: "High" },
    { category: ChartCategory.CRITICAL, label: "Critical" }
  ];

  return (
    <div className="w-full h-full bg-background-dark-neutral-transparent border border-border-dark-neutral-dark rounded-2xl p-4 flex flex-col gap-6">
      <ChartHeader
        title="Avg. Vulnerability Age (Days)"
        onRemoveWidget={() => console.log("Remove widget")}
        onExportData={() => console.log("Export data")}
        onSettings={() => console.log("Settings")}
        onMagicClick={() => console.log("Magic clicked for Avg. Vulnerability Age")}
      />
      
      <VerticalBarChart
        data={data}
        valueUnit=""
        valueLabel="Avg. Age"
        height={244}
        barCategoryGap="40%"
        showLegend={true}
        legendItems={legendItems}
      />
    </div>
  );
} 